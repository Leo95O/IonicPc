<aside class="h-full w-full bg-slate-800 border-r border-slate-700 flex flex-col text-slate-100">
  
  <div class="p-4 border-b border-slate-700 bg-slate-900/50">
    <div class="flex items-center gap-2 mb-1">
      <div [class]="'w-2 h-2 rounded-full ' + (isFaseA ? 'bg-blue-500 animate-pulse' : 'bg-green-500')"></div>
      <span class="text-xs font-bold uppercase tracking-wider text-slate-400">
        {{ isFaseA ? 'Fase Arquitectura' : 'Fase Mobiliario' }}
      </span>
    </div>
    <div class="text-[10px] font-mono text-slate-500">
      Escala: 1m = {{ ppm | number:'1.0-1' }}px
    </div>
  </div>

  <div class="flex-1 overflow-y-auto p-3 space-y-4">
    
    <section *ngIf="isFaseA" class="space-y-2">
      <p class="text-[10px] font-bold text-slate-500 uppercase">Estructura</p>
      
      <button (click)="onPlumaClick()"
        [class.bg-blue-600]="modo === 'PLUMA'"
        class="w-full flex items-center gap-3 p-3 rounded bg-slate-700 hover:bg-slate-600 transition-colors">
        <ion-icon name="create-outline"></ion-icon>
        <span class="text-sm font-medium">Dibujar Paredes</span>
      </button>
      
      <div class="p-2 bg-blue-900/20 border border-blue-500/20 rounded text-[10px] text-blue-200">
        <p>1. Dibuja el per√≠metro.</p>
        <p>2. Haz clic en el inicio para cerrar.</p>
        <p>3. Selecciona una medida para calibrar.</p>
      </div>
    </section>

    <section *ngIf="isFaseB" class="space-y-2">
      <p class="text-[10px] font-bold text-slate-500 uppercase">Mobiliario</p>
      
      <div class="grid grid-cols-2 gap-2">
        <button (click)="onMuebleClick('rect')" 
          class="p-2 bg-slate-700 hover:bg-slate-600 rounded flex flex-col items-center gap-1 border border-transparent hover:border-slate-500">
          <div class="w-6 h-6 border-2 border-slate-400 bg-slate-500/30 rounded-sm"></div>
          <span class="text-[10px]">Rectangular</span>
        </button>
        
        <button (click)="onMuebleClick('circle')" 
          class="p-2 bg-slate-700 hover:bg-slate-600 rounded flex flex-col items-center gap-1 border border-transparent hover:border-slate-500">
          <div class="w-6 h-6 border-2 border-slate-400 bg-slate-500/30 rounded-full"></div>
          <span class="text-[10px]">Circular</span>
        </button>
      </div>
    </section>
  </div>

  <div class="p-4 border-t border-slate-700 bg-slate-800 space-y-2">
    <button *ngIf="isFaseA" (click)="finalizarFaseA.emit()" 
      class="w-full py-2 bg-green-600 hover:bg-green-700 rounded text-sm font-bold shadow-lg transition-transform active:scale-95">
      <ion-icon name="checkmark-done-outline" class="mr-1"></ion-icon>
      Confirmar Plano
    </button>

    <button (click)="guardar.emit()" 
      class="w-full py-2 bg-slate-600 hover:bg-slate-500 rounded text-xs font-medium">
      Guardar Proyecto
    </button>
  </div>
</aside>
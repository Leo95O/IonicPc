<ion-content [fullscreen]="true">
  <div class="flex h-screen w-full bg-slate-900 overflow-hidden text-slate-100 font-sans">
    
    <div class="w-72 h-full z-20 shrink-0">
      <app-tools-sidebar
        [fase]="fase()"
        [modo]="modo()"
        [ppm]="ppm()"
        (setModo)="onSetModo($event)"
        (finalizarFaseA)="onFinalizarFaseA()"
        (addMueble)="onAddMueble($event)"
        (guardar)="onGuardar()">
      </app-tools-sidebar>
    </div>

    <main class="flex-1 relative bg-[#151515] overflow-hidden">
      
      <div class="absolute inset-0 opacity-10 pointer-events-none" 
           style="background-image: radial-gradient(#888 1px, transparent 1px); background-size: 20px 20px;">
      </div>

      <div #canvasContainer class="w-full h-full relative z-0">
        <canvas id="canvas-editor"></canvas>
      </div>

      <app-properties-panel
        [fase]="fase()"
        [paredSeleccionada]="paredSeleccionada()"
        [holguraCm]="holguraCm()"
        (calibrar)="onCalibrarPared($event)"
        (holguraChange)="onHolguraChange($event)"
        (cerrar)="onCerrarPanel()">
      </app-properties-panel>

      <div class="absolute top-4 right-4 bg-slate-900/50 backdrop-blur px-3 py-1 rounded-full text-[10px] text-slate-400 border border-slate-700 pointer-events-none select-none">
        IonicCAD Engine v1.0
      </div>

    </main>
  </div>
</ion-content>